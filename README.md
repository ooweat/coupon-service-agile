# coupon-service-agile
쿠폰 서비스 로직을 빠르게 구현하는 것에 초점
### 개인적인 중요 포인트
1. 사용해보지 않은 기술들을 사용해보며 익숙해지자
- `Spring security with JWT`
2. 진정한 RESTful 한 API 를 만들자
- Self-descriptive message
- HATEOAS

### Depth
```
소속: 본사
조직: 본사-분사-분사_1-분사_1_1
```

### Auth
```
Auth:
    1. 시스템 관리자(절대권한)
    2. 관리자(소속/조직)
    3. 운영자
```

## 자문자답 Q&A

```
Q-1. 조직의 최대 Detph를 지정할 것인가?
A-1. View 의 시각화 한계를 고려했을 때 최대 4 Depth 까지 지정한다.
단, Back-End 에서는 한계를 지정하지 않는다. -> 계층형 쿼리 도입

Q-2. 계층형 쿼리 도입 시, 각 계층의 명칭을 어떻게 관리할 것인가?
A-2. 계층의 대표 명칭을 구분할 수 있는 컬럼을 만들어 구분한다.
단, 대표 명칭은 제일 상위에 위치해야하므로 양의 정수로 관리하며 크게 대표 명칭과 나머지를 이분법으로 나눈다.
```


```
#추가해볼 개선점
1. 쿠폰 발권이 가능한 최소 조직 단위를 지정한다. 
    > 처음 설계 시, 소속 단위로 진행하려고 했으나 가맹본부에서 핸들링 할 수 있도록 범위 확장
    > 쿠폰 발권 테이블에 조직을 추가한다.
2. 쿠폰 발권 시 요금제를 부과한다면?
 2-1. 선불제
    선불제: 포인트를 충전해서 사용한다. 
    포인트 개념은 최하위에 놓을 수 없으므로 최상단인 본사에 놓도록 한다.
    본사에서는 정산 시, 조직별 포인트를 관리한다. <- 포인트 관리 서비스 도입
 2-2. 후불제
    후불제: 사용한 만큼 요금을 부과한다.    
```
